<body bgcolor=black>
<center><canvas id=canvas width=800 height=800></canvas>
<script src=webgl.js></script>
<script>

/********************************************

Rather than setting the locations of animating
objects at every pixel, it is more efficient
to define those values in Javascript, and
send them down to the GPU as uniform
variables.

*********************************************/

function Scene() {

this.vertexShaderUrl = 'shaders/fullscreen.vert';
this.fragmentShaderUrl = 'shaders/scene3.frag';

let startTime = Date.now()/1000;

this.update = viewPoint => {
   let time = Date.now()/1000 - startTime;
   setUniform('1f', 'uTime', time);
   setUniform('3fv', 'uViewPoint', viewPoint);

   let s = Math.sin(time);

   setUniform('4fv', 'uS', [ -.3*s,0,0,.4,
                              .3*s,0,.3,.4 ]);

   setUniform('3fv', 'uC', [ 1,.5,.5,
                             .5,.7,1 ]);
}

}

gl_start(canvas, new Scene());
</script>
