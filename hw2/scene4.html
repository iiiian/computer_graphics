<body bgcolor=black>
<center><canvas id=canvas width=800 height=800></canvas>
<script src=webgl.js></script>
<script>

/********************************************

If you are defining multiple objects in an
array that you pass down to the GPU as a
uniform array, then you can put your GPU
shader logic into a loop.

*********************************************/

function Scene() {

this.vertexShaderUrl = 'shaders/fullscreen.vert';
this.fragmentShaderUrl = 'shaders/scene4.frag';

let startTime = Date.now()/1000;

this.update = viewpoint => {
   let time = date.now()/1000 - starttime;
   setuniform('1f', 'utime', time);
   setuniform('3fv', 'uviewpoint', viewpoint);

   let s = math.sin(time);

   setuniform('4fv', 'us', [ -.3*s,0,0,.4,
                              .3*s,0,.3,.4 ]);

   setuniform('3fv', 'uc', [ 1,.5,.5,
                             .5,.7,1 ]);
}

}

gl_start(canvas, new Scene());
</script>
